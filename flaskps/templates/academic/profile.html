{% extends "forms/profile.html" %}

{% block style %}
	<link rel="stylesheet" type="text/css" href="{{url_for('static', filename='user/profile.css')}}">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css" integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ==" crossorigin="" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />

    <link rel="stylesheet" href="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.css" />
	{{ super() }}
{% endblock %}

{% block script %}
    <script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js" integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew==" crossorigin=""></script>
    <script src="https://unpkg.com/leaflet-routing-machine@latest/dist/leaflet-routing-machine.js"></script>
    <script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js" ></script>

    <script text="javascript" src="{{url_for('static', filename='snippets/api_interface.js')}}"></script>
    <script text="javascript" src="{{url_for('static', filename='map/map.js')}}"></script>
    <script text="javascript" src="{{url_for('static', filename='academic/profile_map.js')}}"></script>
    <script charset="utf-8">
        var latlng = {
          lat: Number('{{ user.latitude|float }}'),
          lng: Number('{{ user.longitude|float }}')
        };
        var location_id = '{{ user.location_id|tojson }}'
        var doc_type_id = '{{ user.doc_type_id|tojson }}'
    </script>
{% endblock %}

{% block profile_name %}
    {{ user.last_name }}, {{ user.first_name }}
{% endblock %}

{% block profile_attributes %}

    {% block head_content %} {% endblock %}
    
    <h4><span class="title subtitle">Activo</span></h4>
    <i class="fa fa-{{ 'check text-success' if (user.is_active) else 'times text-danger' }} user-active" active={{ user.is_active|int }}></i>

    <h4><span class="title subtitle">Fecha de nacimiento</span></h4>
    <span class="information">{{ user.birth_date }}</span>

    <h4><span class="title subtitle">Dirección</span></h4>
    <span class="information"><span id="location"></span> - {{ user.residency }}</span>

    <h4><span class="title subtitle">Género</span></h4>
    <span class="information">{{ user.gender.name }}</span>

    <h4><span class="title subtitle">Documento</span></h4>
    <span class="information"><span id="doc-type"></span>: {{ user.doc_number }} </span>

    <h4><span class="title subtitle">Teléfono</span></h4>
    <span class="information">{{ user.telephone }}</span>

    <h4><span class="title subtitle">Ubicación</span></h4>
    <div id="map"></div>

    {% block extra_content %} {% endblock extra_content %}

    {% block buttons %} {% endblock buttons %}


{% endblock %}
