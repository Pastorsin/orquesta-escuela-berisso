{% extends "forms/new.html" %}

{% block style %}
{{super()}}
<link rel="stylesheet" href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
    integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
    crossorigin="" />
<link rel="stylesheet" href="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.css" />

{% endblock style %}

{% block script %}
<script src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
    integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
    crossorigin="" defer></script>
<script src="https://unpkg.com/leaflet-control-geocoder/dist/Control.Geocoder.js" defer></script>

<script text="javascript" src="{{url_for('static', filename='snippets/api_interface.js')}}"></script>
<script text="javascript" src="{{url_for('static', filename='teacher/new.js')}}"></script>
<script text="javascript" src="{{url_for('static', filename='teacher/map.js')}}"></script>
{% endblock %}

{% block form_title %}
Crear docente
{% endblock %}

{% block post_url %}
{{ url_for('teacher_new') }}
{% endblock %}

{% block fields %}
<div class="col-12">
    <div class="form-group">
        <label for="first-name-input">Nombres</label>
        <input id="first-name-input" class="form-control" type="text" name="first_name" required placeholder="Nombres"
            value="{{academic.first_name}}">
    </div>

    <div class="form-group">
        <label for="last-name-input">Apellidos</label>
        <input id="last-name-input" class="form-control" type="text" name="last_name" required placeholder="Apellidos"
            value="{{academic.last_name}}">
    </div>

    <div class="form-group">
        <label for="birthdate-input">Fecha de Nacimiento</label>
        <input id="birthdate-input" class="form-control" type="date" name="birth_date" required
            placeholder="Fecha de nacimiento" value="{{academic.birth_date}}">
    </div>

    <div class="form-row align-items-center">
        <div class="form-group col-md-4">
            <label for="location-input">Localidad</label>
            <select required id="location-input" class="form-control location-input" name="location_id"
                placeholder="Localidad" value="{{academic.location_id}}">
                <option value="" hidden></option>
            </select>
        </div>

        <div class="form-group col-md-8">
            <label for="residency-input">Domicilio</label>
            <input id="residency-input" class="form-control" type="text" name="residency" required
                placeholder="Domicilio" value="{{academic.residency}}">
            <input id="lat" type="hidden" name="latitude" value="">
            <input id="lng" type="hidden" name="longitude" value="">
        </div>
    </div>

    <div class="form-group">
        <label for="gender-input">Género</label>
        <select id="gender-input" class="form-control" name="gender_id" required placeholder="Género">
            <option value="" hidden></option>
            {% for gender in genders %}
            {% if (academic.gender_id is defined) and (academic.gender_id|int==gender.id) %}
            <option value="{{gender.id}}" selected="selected">{{gender.name}}</option>
            {% else %}
            <option value="{{gender.id}}">{{gender.name}}</option>
            {% endif %}
            {% endfor %}
        </select>
    </div>

    <div class="form-row align-items-center">
        <div class="form-group col-md-2">
            <label for="doctype-input">Tipo de Documento</label>
            <select required id="doctype-input" class="form-control doctype-input" name="doc_type_id"
                placeholder="Tipo de Documento" value="{{academic.doc_type_id}}">
                <option value="" hidden></option>
            </select>
        </div>

        <div class="form-group col-md-10">
            <label for="docnumber-input">Número de Documento</label>
            <input id="docnumber-input" class="form-control" type="number" name="doc_number" required
                placeholder="Número de Documento" value="{{academic.doc_number}}">
        </div>
    </div>

    <div class="form-group">
        <label for="telephone-input">Teléfono</label>
        <input id="telephone-input" class="form-control" type="text" name="telephone" placeholder="Teléfono"
            value="{{academic.telephone}}">
    </div>
</div>

{% block extra_fields %}
<div class="form-group">
    <label for="map">Ubicación</label>
    <div id="map"></div>
</div>
{% endblock %}
{% endblock %}